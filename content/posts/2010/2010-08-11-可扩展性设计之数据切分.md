---
title: 可扩展性设计之数据切分
author: admin
type: post
date: 2010-08-11T06:42:15+00:00
url: /archives/5056
IM_contentdowned:
 - 1
categories:
 - 系统架构
 - MySQL

---
可能很多读者朋友在网上或者杂志上面都已经多次见到关于数据切分的相关文章了， 只不过在有些文章中称之为数据的 Sharding 。其实不管是称之为数据的 Sharding 还是数据的切分，其概念都是一样的。简单来说，就是指通过某种特定的条件，将我们存放在同一个数据库中的数据分散存放到多个数据库（主机）上面，以达到分散单台设备负载的效果。 数据的切分同时还可以提高系统的总体可用性，因为单台设备 Crash 之后，只有总体数据的某部分不可用，而不是所有的数据。

数据的切分（ Sharding ）根据其切分规则的类型，可以分为两种切分模式。
**垂直（纵向）切分:** 一种是按照不同的表（或者 Schema ）来切分到不同的数据库（主机）之上，这种切可以称之为数据的垂直（纵向）切分；
**水平（横向）切分:** 另外一种则是根据表中的数据的逻辑关系，将同一个表中的数据按照某种条件拆分到多台数据库（主机）上面，这种切分称之为数据的水平（横向）切分。


垂直切分的最大特点就是规则简单，实施也更为方便，尤其适合各业务之间的耦合度非常低，相互影响很小，业务逻辑非常清晰的系统。在这种系统中，可以很容易做到将不同业务模块所使用的表分拆到不同的数据库中。根据不同的表来进行拆分，对应用程序的影响也更小，拆分规则也会比较简单清晰。

水平切分于垂直切分相比，相对来说稍微复杂一些。因为要将同一个表中的不同数据拆分到不同的数据库中，对于应用程序来说，拆分规则本身就较根据表名来拆分更为复杂， 后期的数据维护也会更为复杂一些。

当我们某个（或者某些）表的数据量和访问量特别的大，通过垂直切分将其放在独立的设备上后仍然无法满足性能要求，这时候我们就必须将垂直切分和水平切分相结合，先垂 直切分，然后再水平切分，才能解决这种超大型表的性能问题。
下面我们就针对垂直、水平以及组合切分这三种数据切分方式的架构实现及切分后数据的整合进行相应的分析。