---
title: FreeBSD/Linux检测硬盘坏道　第二篇
author: admin
type: post
date: 2011-05-28T13:44:28+00:00
url: /archives/9605
IM_contentdowned:
 - 1
categories:
 - 服务器

---
Linux认证：FreeBSD/Linux检测硬盘坏道，$badblocks -s //显示进度 -w //以写去检测 -v //显示执行详细情况 /dev/sda2

**Linux检测硬盘坏道**

badblocks功能说明：检查磁盘装置中损坏的区块。

语法：badblocks \[-svw\]\[-b \]\[-o \]\[磁盘装置\]\[磁盘区块数\]\[启始区块\]

补充说明：执行指令时须指定所要检查的磁盘装置，及此装置的磁盘区块数。

参数：

-b 指定磁盘的区块大小，单位为字节。

-o 将检查的结果写入指定的输出文件。

-s 在检查时显示进度。

-v 执行时显示详细的信息。

-w 在检查时，执行写入测试。

[磁盘装置] 指定要检查的磁盘装置。

[磁盘区块数] 指定磁盘装置的区块总数。

[启始区块] 指定要从哪个区块开始检查。

badblocks 检测磁盘坏块

1)$badblocks -s //显示进度 -v //显示执行详细情况 /dev/sda1

2)读写方式检测 未挂载的磁盘设备或分区

$badblocks -s //显示进度 -w //以写去检测 -v //显示执行详细情况 /dev/sda2

**FreeBsd检测硬盘坏道**

利用硬盘的S.M.A.R.T.功能来做。

> cd /usr/ports/sysutils/smartmontools
>
> make install

快速检查硬盘是否有问题

> smartctl -a /dev/ad0

表面测试

> smartctl -t long /dev/ad0

好像还有一个badtrk工具

=========================================================================

**smartctl详解:**

werix

监测你的硬盘 – 提前预报系统SMART

前言：

大家心理最怕的不是安装某个系统，而是辛辛苦苦安装之后，忽然有一天硬盘坏了，又没有备份(DAT，DLT之类磁带机贵得吓死人)。怎么样才能知道你的硬盘能否过新年呢？(硬盘状态如何？) 特别是如果能够提前预报，告诉大家硬盘快顶不住了，那该多好。

解决办法：

SMART

SMART(SFF-8035i) 是硬盘生产商们建立的一个工业标准，这个标准就是在硬盘上保存一个跟执行情况，可靠程度，读找错误率等属性的表格。所有属性都有一个1byte(大小范围1-253)的标准化值，还包含另一个1byte的关键阶段值，如果属性表格内某个数据接近小于或达到关键阶段值，那么你的硬盘就快跟你永别了，至少也是超过它的设计使用极限了- 该做备份和最坏的打算了。

** 相关教程：**