---
title: 将rabbitmq 里的消息持久化
author: admin
type: post
date: 2014-08-01T06:41:11+00:00
url: /archives/15256
categories:
 - 系统架构
tags:
 - RabbitMQ

---

## 消息持久设置：

1) 将交换机置为可持久；

2) 将通道置为可持久

3) 消息发送时设置可持久。

当我们“生产”了一条可持久化的消息，尝试中断MQ服务，启动消费者获取消息，消息依然能够恢复。相反，则抛出异常。

上面三条必须全部设置，不然消息将无法持久化。